{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"訂單\", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"table table-bordered\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"#\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"訂單編號\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"產品項目\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"金額\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"是否付款\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"物流狀態\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"訂單日期\")])], -1 /* HOISTED */);\nconst _hoisted_5 = {\n  scope: \"row\"\n};\nconst _hoisted_6 = {\n  class: \"table table-borderless\"\n};\nexport function render(_ctx, _cache) {\n  const _component_paginate = _resolveComponent(\"paginate\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createCommentVNode(\" 查詢 \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.select = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.select]]), _hoisted_2, _createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.orders, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createCommentVNode(\" 取得陣列序號 \"), _createElementVNode(\"th\", _hoisted_5, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.ord_number), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createCommentVNode(\" 產品點擊顯示 資料在orders的orderproduct Json格式\"), _createElementVNode(\"table\", _hoisted_6, [_createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.orderproduct, (item, index) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: item.id\n      }, [_createElementVNode(\"td\", null, _toDisplayString(item.ord_product_title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.ord_product_price), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"td\", null, _toDisplayString(item.ord_total), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.ord_state), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.ord_logistics), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.createdAt), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" <nav aria-label=\\\"Page navigation example\\\">\\r\\n    <ul class=\\\"pagination\\\">\\r\\n      <li class=\\\"page-item\\\">\\r\\n        <a class=\\\"page-link\\\" href=\\\"#\\\" aria-label=\\\"Previous\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&laquo;</span>\\r\\n        </a>\\r\\n      </li>\\r\\n      <li class=\\\"page-item\\\"><a class=\\\"page-link\\\" href=\\\"#\\\">1</a></li>\\r\\n      <li class=\\\"page-item\\\"><a class=\\\"page-link\\\" href=\\\"#\\\">2</a></li>\\r\\n      <li class=\\\"page-item\\\"><a class=\\\"page-link\\\" href=\\\"#\\\">3</a></li>\\r\\n      <li class=\\\"page-item\\\">\\r\\n        <a class=\\\"page-link\\\" href=\\\"#\\\" aria-label=\\\"Next\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&raquo;</span>\\r\\n        </a>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </nav> \"), _createVNode(_component_paginate, {\n    \"page-count\": 20,\n    \"page-range\": 3,\n    \"margin-pages\": 2,\n    \"click-handler\": _ctx.clickCallback,\n    \"prev-text\": 'Prev',\n    \"next-text\": 'Next',\n    \"container-class\": 'pagination',\n    \"page-class\": 'page-item'\n  }, null, 8 /* PROPS */, [\"click-handler\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";gCACEA,oBAAW,YAAP,IAAE;gCAONA,oBAAI;;EAEGC,KAAK,EAAC;AAAsB;gCACjCD,oBAWQ,6BAVNA,oBASK,0BARHA,oBAAsB;EAAlBE,KAAK,EAAC;AAAK,GAAC,GAAC,gBACjBF,oBAAyB;EAArBE,KAAK,EAAC;AAAK,GAAC,MAAI,gBACpBF,oBAAyB;EAArBE,KAAK,EAAC;AAAK,GAAC,MAAI,gBACpBF,oBAAuB;EAAnBE,KAAK,EAAC;AAAK,GAAC,IAAE,gBAClBF,oBAAyB;EAArBE,KAAK,EAAC;AAAK,GAAC,MAAI,gBACpBF,oBAAyB;EAArBE,KAAK,EAAC;AAAK,GAAC,MAAI,gBACpBF,oBAAyB;EAArBE,KAAK,EAAC;AAAK,GAAC,MAAI;;EAOhBA,KAAK,EAAC;AAAK;;EASND,KAAK,EAAC;AAAwB;;;6DAlC7CE,UAAW,EACXC,2BAAW,kBACXJ,oBAAoC;IAA7BK,IAAI,EAAC,MAAM;+DAAUC,WAAM;iDAANA,WAAM,KAKlCC,UAAI,EAEJP,oBA8CQ,SA9CRQ,UA8CQ,GA7CNC,UAWQ,EACRT,oBA+BQ,mCA9BNU,oBA6BKC,6BA7BuBL,WAAM,GAAtBM,IAAI,EAAEC,KAAK;yBAAvBH,oBA6BK;MA7BgCI,GAAG,EAAEF,IAAI,CAACG;QAC7CX,+BAAe,EACfJ,oBAAoC,MAApCgB,UAAoC,mBAAjBH,KAAK,sBACxBb,oBAA8B,6BAAvBY,IAAI,CAACK,UAAU,kBAEtBjB,oBAiBK,aAhBHI,4DAA4C,EAK5CJ,oBAQQ,SARRkB,UAQQ,GANNlB,oBAKQ,mCAJNU,oBAGKC,6BAHuBC,IAAI,CAACO,YAAY,GAAjCP,IAAI,EAAEC,KAAK;2BAAvBH,oBAGK;QAH2CI,GAAG,EAAEF,IAAI,CAACG;UACxDf,oBAAqC,6BAA9BY,IAAI,CAACQ,iBAAiB,kBAC7BpB,oBAAqC,6BAA9BY,IAAI,CAACS,iBAAiB;0CAQrCrB,oBAA6B,6BAAtBY,IAAI,CAACU,SAAS,kBACrBtB,oBAA6B,6BAAtBY,IAAI,CAACW,SAAS,kBACrBvB,oBAAiC,6BAA1BY,IAAI,CAACY,aAAa,kBACzBxB,oBAA6B,6BAAtBY,IAAI,CAACa,SAAS;sCAO3BrB,iuBAgBU,EAEVsB,aASWC;IARR,YAAU,EAAE,EAAE;IACd,YAAU,EAAE,CAAC;IACb,cAAY,EAAE,CAAC;IACf,eAAa,EAAErB,kBAAa;IAC5B,WAAS,EAAE,MAAM;IACjB,WAAS,EAAE,MAAM;IACjB,iBAAe,EAAE,YAAY;IAC7B,YAAU,EAAE","names":["_createElementVNode","class","scope","_hoisted_1","_createCommentVNode","type","_ctx","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","item","index","key","id","_hoisted_5","ord_number","_hoisted_6","orderproduct","ord_product_title","ord_product_price","ord_total","ord_state","ord_logistics","createdAt","_createVNode","_component_paginate"],"sourceRoot":"","sources":["D:\\sshstudiocode\\Vue\\vue-3-authentication-jwt-shoppingcart\\src\\components\\package\\Order.vue"],"sourcesContent":["<template>\r\n  <h1>訂單</h1>\r\n  <!-- 查詢 -->\r\n  <input type=\"text\" v-model=\"select\">\r\n\r\n\r\n\r\n\r\n  <hr>\r\n\r\n  <table class=\"table table-bordered\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">#</th>\r\n        <th scope=\"col\">訂單編號</th>\r\n        <th scope=\"col\">產品項目</th>\r\n        <th scope=\"col\">金額</th>\r\n        <th scope=\"col\">是否付款</th>\r\n        <th scope=\"col\">物流狀態</th>\r\n        <th scope=\"col\">訂單日期</th>\r\n\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(item, index) in orders\" :key=\"item.id\">\r\n        <!-- 取得陣列序號 -->\r\n        <th scope=\"row\">{{ index + 1 }}</th>\r\n        <td>{{ item.ord_number }}</td>\r\n\r\n        <td>\r\n          <!-- 產品點擊顯示 資料在orders的orderproduct Json格式-->\r\n\r\n\r\n\r\n\r\n          <table class=\"table table-borderless\">\r\n\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in item.orderproduct\" :key=\"item.id\">\r\n                <td>{{ item.ord_product_title }}</td>\r\n                <td>{{ item.ord_product_price }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n\r\n        </td>\r\n\r\n        <td>{{ item.ord_total }}</td>\r\n        <td>{{ item.ord_state }}</td>\r\n        <td>{{ item.ord_logistics }}</td>\r\n        <td>{{ item.createdAt }}</td>\r\n        \r\n      </tr>\r\n    </tbody>\r\n\r\n  </table>\r\n\r\n  <!-- <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination\">\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\r\n      <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\r\n      <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav> -->\r\n\r\n  <paginate\r\n    :page-count=\"20\"\r\n    :page-range=\"3\"\r\n    :margin-pages=\"2\"\r\n    :click-handler=\"clickCallback\"\r\n    :prev-text=\"'Prev'\"\r\n    :next-text=\"'Next'\"\r\n    :container-class=\"'pagination'\"\r\n    :page-class=\"'page-item'\">\r\n  </paginate>\r\n\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      ordersTemp: [],\r\n      user_id: '',\r\n      select: '',\r\n\r\n\r\n    }\r\n  },\r\n\r\n  mounted: function () {\r\n    // 取得本地端user的id\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n    this.user_id = user.id\r\n\r\n\r\n    // axios取得訂單資料\r\n    axios.get('http://192.168.68.60:8082/api/products/getOrderProductsUser/' + this.user_id)\r\n      .then((res) => {\r\n        this.ordersTemp = res.data\r\n        console.log(this.orders)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n\r\n  },\r\n  methods: {\r\n    clickCallback (pageNum) => {\r\n      console.log(pageNum)\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    // orders的createdAt取得年月日\r\n    orders() {\r\n      this.ordersTemp.forEach((item) => {\r\n        // forEach:陣列迴圈\r\n        item.createdAt = item.createdAt.split('T')[0]\r\n        // split:分割字串\r\n      })\r\n      return this.ordersTemp.filter\r\n        (searchResult => searchResult.ord_number.includes(this.select));\r\n\r\n      \r\n    }\r\n  },\r\n\r\n}\r\n\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}